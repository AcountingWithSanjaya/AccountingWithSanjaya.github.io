<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="/Images/logo.png"> 
    <title>User Profile | ProfileHub</title>
    <link rel="stylesheet" href="/Student Lobby/profile.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script>
        (function () {
            if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
                var script = document.createElement('script');
                script.src = '//cdn.jsdelivr.net/npm/eruda';
                document.head.appendChild(script);
                script.onload = function () {
                    eruda.init();
                }
            }
        })();
    </script>
</head>
<body>
    <div class="loading-overlay">
        <div class="loading-content">
            <div class="spinner"></div>
            <p class="loading-text">Loading Profile...</p>
            <p class="loading-subtext">Please wait while we fetch your information</p>
        </div>
    </div>
    <header class="header">
      <div class="header-content">
          <div class="logo">Quiver.</div>
          <nav class="nav">
              <a href="/Student Lobby/Classes.html">My Classes</a>
              <a href="/Student Lobby/Schedule.html">Schedule</a>
              <a href="/Student Lobby/Recordings.html">Recordings</a>
              <a href="/Student Lobby/Profile.html">Profile</a>
              <a href="/Support/Form.html">Support</a>
          </nav>
      </div>
  </header>
      <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <h2 class="loading-text">Checking login status</h2>
            <p class="loading-subtext">Please wait a moment...</p>
        </div>
    </div>

    <main class="main-content">
        <div class="container">
            <div class="profile-grid">
                <div class="profile-sidebar">
                    <div class="profile-header">
                        <img src="/Images/defaultpfp.png" alt="Profile Picture" class="profile-image"> <!-- Removed redundant Pexels image -->
                        <h2 class="profile-name">Loading...</h2>
                        <p class="profile-status">Student</p>
                    </div>
                    <div class="profile-stats">
                        <div class="stat-item">
                            <i class="fas fa-graduation-cap"></i>
                            <span id="profile-grade">Grade: Loading...</span>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-calendar-alt"></i>
                            <span id="profile-member-since">Joined: Loading...</span>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Verified Student</span>
                        </div>
                    </div>
                </div>

                <div class="form-container">
                    <h1>Profile Information</h1>
                    
                    <div class="form-group">
                        <label for="username"><i class="fas fa-user"></i>Username</label>
                        <input type="text" id="username" value="Loading..." readonly class="bg-gray-50">
                    </div>
                    
                    <div class="form-group">
                        <label for="email"><i class="fas fa-envelope"></i>Email</label>
                        <input type="email" id="email" value="Loading..." readonly class="bg-gray-50">
                    </div>
                    
                    <div class="form-group">
                        <label for="password"><i class="fas fa-lock"></i>Password</label>
                        <div class="inputForm">
                            <input type="password" id="password" value="********" readonly class="bg-gray-50">
                            <button type="button" class="toggle-password" aria-label="Toggle password visibility">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <button type="button" class="change-password-btn">Change Password <i class="fas fa-arrow-right"></i></button>
                    </div>
                    
                    <div class="form-group">
                        <label for="birthdate"><i class="fas fa-birthday-cake"></i>Birthdate</label>
                        <input type="text" id="birthdate" value="Loading..." readonly class="bg-gray-50">
                    </div>

                    <div class="form-group">
                        <label for="profile-page-grade"><i class="fas fa-graduation-cap"></i>Grade</label>
                        <input type="text" id="profile-page-grade" value="Loading..." readonly class="bg-gray-50">
                    </div>
                    
                    <div class="form-group">
                        <label for="credits"><i class="fas fa-coins"></i>Credits</label>
                        <input type="text" id="credits" value="Loading..." readonly class="bg-gray-50">
                        <div class="credits-info">
                            <!-- Credit history can be added later if needed -->
                            <button class="buy-credits-btn" onclick="window.location.href='/Purchase/index.html'">
                                Buy More Credits <i class="fas fa-plus-circle"></i>
                            </button>
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button type="button" class="primary-button" id="edit-profile-btn">
                            <i class="fas fa-edit"></i>
                            Edit Profile
                        </button>
                        <button type="button" class="secondary-button" id="export-data-btn">
                            <i class="fas fa-download"></i>
                            Export Data
                        </button>
                        <button type="button" class="secondary-button" id="cancel-edit-btn" style="display: none;">
                            <i class="fas fa-times"></i>
                            Cancel
                        </button>
                        <button type="button" class="danger-button" id="delete-account-btn">
                            <i class="fas fa-trash-alt"></i>
                            Delete Account
                        </button>
                    </div>
                </div>

                <div class="profile-activity">
                    <h3>Recent Activity</h3>
                    <!-- Example Activity Item -->
                    <!-- <div class="activity-item">
                        <i class="fas fa-book-open"></i>
                        <div class="activity-content">
                            <p>Joined "Advanced Algebra" class</p>
                            <span>2 days ago</span>
                        </div>
                    </div> -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>Contact Us</h3>
                <p>Email: ssjayasundara@yahoo.com</p>
                <p>Phone: +94 77 903 5940</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <a href="/Login and Register/Login.html">Login</a>
                <a href="/Legal/Privacy Policy.html">Privacy Policy</a>
                <a href="/Legal/Terms of Service.html">Terms of Service</a>
            </div>
            <div class="footer-section">
                <h3>Follow Us</h3>
                <div class="social-links">
                    <a href="https://www.facebook.com/share/1BQyew99t2/" target="_blank">Facebook</a>
                    <a href="https://www.instagram.com/sanjaya_jayasundara?igsh=M2lxb3l1enI2MTRx" target="_blank">Instagram</a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Quiver. All rights reserved.</p>
        </div>
    </footer>

    <!-- Delete Account Confirmation Modal -->
    <div id="delete-confirm-modal" class="loading-overlay hidden" style="background-color: rgba(0,0,0,0.6); z-index: 1001;">
        <div class="loading-content" style="background-color: var(--white); color: var(--black); padding: 2rem; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); max-width: 400px;">
            <h3 class="loading-text" style="color: var(--error-red); margin-bottom: 1rem; font-size: 1.25rem;">Confirm Account Deletion</h3>
            <p class="loading-subtext" style="margin-bottom: 1.5rem; font-size: 0.9rem;">Are you sure you want to permanently delete your account? This action cannot be undone, and all your data will be lost.</p>
            <div style="display: flex; justify-content: space-around; gap: 1rem;">
                <button class="primary-button" id="confirm-delete-btn" style="background-color: var(--error-red); border-color: var(--error-red); padding: 0.75rem 1rem; font-size: 0.9rem;">Yes, Delete My Account</button>
                <button class="secondary-button" id="cancel-delete-btn" style="padding: 0.75rem 1rem; font-size: 0.9rem;">Cancel</button>
            </div>
        </div>
    </div>

    <script src="/Student Lobby/profile.js"></script>
</body>
</html>
